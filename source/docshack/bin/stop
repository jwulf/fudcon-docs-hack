#!/bin/bash

stopserver()
{
  if [ -f $SERVERPIDFILE ]; then
    SERVERPID=`cat $SERVERPIDFILE`
    if [ "x`ps -p $SERVERPID -o comm=`" = "xjava" ]; then
      kill -TERM $SERVERPID
      echo "Stopping $SERVERNAME pid $SERVERPID"
      rm $SERVERPIDFILE
    else
      echo "Process $SERVERPID does not appear to be a server"
      rm $SERVERPIDFILE
    fi
  else
    echo "No $SERVERNAME pid file found"
  fi
}

DIRNAME=`dirname $0`
SERVERPIDFILE=`cd $DIRNAME/..;pwd`/server/server.pid
SERVERNAME="GUI Server"
stopserver

SERVERPIDFILE=`cd $DIRNAME/..;pwd`/csp-server/csp-server.pid
SERVERNAME="CSP Server"
stopserver


