<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core"
	template="layout/cleantemplate.xhtml">

	<ui:define name="body">

		<div class="actionButtons">
			<h:form>
				<s:button styleClass="button" view="/TagEdit.xhtml" id="edit"
					value="Edit" />
				<s:button styleClass="button"
					view="/#{empty tagFrom ? 'TagList' : tagFrom}.xhtml" id="done"
					value="Done" />
		        #{" "}
		        <h:outputText value="View Revision: " />
		        #{" "}
		       	<h:selectOneMenu value="#{tagHome.revision}">
					<c:forEach items="#{tagHome.instance.revisions}" var="revision">
						<f:selectItem itemLabel="#{revision}" itemValue="#{revision}" />
					</c:forEach>
				</h:selectOneMenu>
				#{" "}
				<h:commandButton styleClass="button" value="View" />
			</h:form>
		</div>

		<div style="clear: both" />
		<br />

		<rich:panel>
			<f:facet name="header">Tag Details</f:facet>

			<s:decorate id="topicId" template="layout/display.xhtml">
				<ui:define name="label">Tag ID</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? tagHome.instance.tagId : tagHome.revision.tagId}" />
			</s:decorate>
			
			<s:decorate id="topicRevision" template="layout/display.xhtml">
				<ui:define name="label">Tag Revision</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? 'Latest' : tagHome.revision}" />
			</s:decorate>

			<s:decorate id="tagName" template="layout/display.xhtml">
				<ui:define name="label">Tag Name</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? tagHome.instance.tagName : tagHome.revisionInstance.tagName}" />
			</s:decorate>

			<s:decorate id="tagDescription" template="layout/display.xhtml">
				<ui:define name="label">Tag Description</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? tagHome.instance.tagDescription : tagHome.revisionInstance.tagDescription}" />
			</s:decorate>

			<s:decorate id="tagCategories" template="layout/display.xhtml">
				<ui:define name="label">Tag Categories</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? tagHome.instance.categoriesList : tagHome.revisionInstance.categoriesList}" />
			</s:decorate>
			
			<s:decorate id="tagProjects" template="layout/display.xhtml">
				<ui:define name="label">Tag Projects</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? tagHome.instance.projectsList : tagHome.revisionInstance.projectsList}" />
			</s:decorate>

			<s:decorate id="tagParents" template="layout/display.xhtml">
				<ui:define name="label">Encompassing Tags</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? tagHome.instance.parentList : tagHome.revisionInstance.parentList}" />
			</s:decorate>

			<s:decorate id="tagChildren" template="layout/display.xhtml">
				<ui:define name="label">Encompassed Tags</ui:define>
				<h:outputText
					value="#{empty tagHome.revision ? tagHome.instance.childrenList : tagHome.revisionInstance.childrenList}" />
			</s:decorate>

			<s:decorate id="tagProperties" template="layout/display.xhtml">
				<ui:define name="label">Properties</ui:define>
				<rich:dataList var="property"
					value="#{empty tagHome.revision ? tagHome.instance.sortedToPropertyTags : tagHome.revisionInstance.sortedToPropertyTags}">
					<h:outputText
						value="#{property.propertyTag.propertyTagName}: #{property.value}" />
				</rich:dataList>

			</s:decorate>

			<div style="clear: both" />

		</rich:panel>



	</ui:define>

</ui:composition>
